{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vest Store</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="{% static 'css/vest.css' %}" />
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li><a href="{% url 'home' %}">Home</a></li>
          <li><a href="{% url 'about_page' %}">About Us</a></li>
          <li><a href="{% url 'cart_page' %}">Cart</a></li>
          <li><a href="{% url 'admin:index' %}">Admin</a></li>
        </ul>
      </nav>
    </header>

    <div class="hero">
      <div class="hero-content">
        <svg>
          <text x="50%" y="40%" text-anchor="middle">
            Stay Safe with 25 MPH Vest
          </text>
        </svg>
        <h4 style="margin-top: -50px; " >
          Protect yourself while cycling with our high-visibility safety vest.
        </h4>

        <div class="features">
          <div class="cards-container">
            <div class="card">
              <div class="card-content">
                <h3>High Visibility</h3>
                <p>Stay visible to motorists day or night.</p>
                <div class="product-slider">
                  <div class="slider slider1">
                    <div class="slide"><img src="{% static 'images/img4.jpeg' %}" alt="Image 1"></div>
                    <div class="slide"><img src="{% static 'images/img5.jpeg' %}" alt="Image 2"></div>
                    <div class="slide"><img src="{% static 'images/img6.jpeg' %}" alt="Image 3"></div>
                  </div>
                  <button class="prev" onclick="prevSlide(1)">&#10094;</button>
                  <button class="next" onclick="nextSlide(1)">&#10095;</button>
                </div>
              </div>
            </div>


            <div class="cta" style="display: flex; flex-direction: column; align-items: center; background-color: #abb0b8;">
              <label for="sizeDropdown">Select Size:</label>
              <select id="sizeDropdown">
                  <option value="small">Small</option>
                  <option value="medium">Medium</option>
                  <option value="large">Large</option>
              </select>
              <label for="quantityInput">Quantity:</label>
              <input type="number" id="quantityInput" value="1" min="1">
              <button onclick="addToCart()" style="margin-top: 10px; width: 150px;">Add to Cart</button>
              <button onclick="togglePopup()" class="button"style="margin-top: 10px">Size Chart</button>
          </div>

          <div class="popup" id="popup-1">
            <div class="overlay"></div>
            <div class="content">
              <div class="close-btn" onclick="togglePopup()">&times;</div>
              <h3>Safety Vest Size chart</h3>
              <table class="size-chart-table">
                <thead>
                  <tr>
                    <th>Size</th>
                    <th>Chest Width</th>
                    <th>Length</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S</td>
                    <td>13cm / 33.02inch</td>
                    <td>22cm / 55.88inch</td>
                  </tr>
                  <tr>
                    <td>M</td>
                    <td>16.5cm / 41.91inch</td>
                    <td>25cm / 63.5inch</td>
                  </tr>
                  <tr>
                    <td>L</td>
                    <td>27cm / 68.58inch</td>
                    <td>18cm / 45.72inch</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <script>
            function togglePopup() {
              document.getElementById("popup-1").classList.toggle("active");
            }
          </script>

          <div class="card">
          <div class="card-content" style="background-color: white">
            <h3>Lightweight</h3>
            <p>Comfortable and easy to wear.</p>
            <div class="product-slider">
              <div class="slider slider2">
                <div class="slide"><img src="{% static 'images/img1.jpeg' %}" alt="Image 1"></div>
                <div class="slide"><img src="{% static 'images/img2.jpeg' %}" alt="Image 2"></div>
                <div class="slide"><img src="{% static 'images/img3.jpeg' %}" alt="Image 3"></div>
              </div>

              <button class="prev" onclick="prevSlide(2)">&#10094;</button>
              <button class="next" onclick="nextSlide(2)">&#10095;</button>
            </div>
          </div>

        </div>
      </div>
    </div>


    <div id ="cartSymbol" class="cart-symbol">ðŸ›’0</div>

    <script>

      let slideIndex1 = 0;
      let slideIndex2 = 0;

      function showSlide(n, sliderIndex) {
        const slides = document.querySelectorAll(`.slider${sliderIndex} .slide`);
        if (slides.length === 0) return;
        const index = (n + slides.length) % slides.length;
        for (let i = 0; i < slides.length; i++) {
          slides[i].style.display = 'none';
        }
        slides[index].style.display = 'block';
        if (sliderIndex === 1) {
          slideIndex1 = index;
        } else if (sliderIndex === 2) {
          slideIndex2 = index;
        }
      }

      function nextSlide(sliderIndex) {
        if (sliderIndex === 1) {
          showSlide(slideIndex1 + 1, 1);
        } else if (sliderIndex === 2) {
          showSlide(slideIndex2 + 1, 2);
        }
      }

      function prevSlide(sliderIndex) {
        if (sliderIndex === 1) {
          showSlide(slideIndex1 - 1, 1);
        } else if (sliderIndex === 2) {
          showSlide(slideIndex2 - 1, 2);
        }
      }

      showSlide(slideIndex1, 1);
      showSlide(slideIndex2, 2);

        let cartItems = 0;
        window.onload = function() {
            document.getElementById('cartSymbol').addEventListener('click',function(){
                window.location.href = "{% url 'cart_page' %}";
            });
            updateCartSymbol();
        };
        function addToCart() {
            const sizeDropdown = document.getElementById("sizeDropdown");
            const selectedSize = sizeDropdown.options[sizeDropdown.selectedIndex].value;
            const quantityInput = document.getElementById("quantityInput");
            const quantity = parseInt(quantityInput.value);
            cartItems += quantity;

            // Update cart symbol
            updateCartSymbol();
        }


      function updateCartSymbol() {
        const cartSymbol = document.getElementById('cartSymbol');
        if (cartItems > 0) {
            cartSymbol.innerText = 'ðŸ›’' + cartItems;
        } else {
            cartSymbol.innerText = 'ðŸ›’  0';
        }
    }
    </script>

    <footer>
        <div class="social-icons"></div>
        <p>&copy; 2024 UNH 25 MPH Vest. All rights reserved.</p>
    </footer>
  </body>
</html>